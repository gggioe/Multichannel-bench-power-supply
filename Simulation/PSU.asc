Version 4
SHEET 1 4640 1604
WIRE -32 544 -32 528
WIRE 192 608 144 608
WIRE 272 608 192 608
WIRE 416 608 416 560
WIRE 416 608 368 608
WIRE 464 608 416 608
WIRE 592 608 592 560
WIRE 592 608 544 608
WIRE 736 608 592 608
WIRE 880 608 736 608
WIRE -32 640 -32 624
WIRE 592 640 592 608
WIRE 880 640 880 608
WIRE 416 672 416 608
WIRE -176 688 -176 656
WIRE -96 688 -176 688
WIRE 192 688 192 608
WIRE 320 688 320 672
WIRE 320 688 288 688
WIRE -176 704 -176 688
WIRE 736 704 736 608
WIRE 1008 736 928 736
WIRE 880 752 880 720
WIRE 1008 752 1008 736
WIRE -32 768 -32 736
WIRE 240 768 240 752
WIRE 240 768 -32 768
WIRE 320 768 240 768
WIRE 928 768 928 736
WIRE -176 784 -176 768
WIRE 416 800 416 752
WIRE 592 816 592 720
WIRE 592 816 560 816
WIRE -32 848 -48 848
WIRE 320 848 320 768
WIRE 320 848 32 848
WIRE 592 848 592 816
WIRE 928 848 928 816
WIRE 1008 848 1008 832
WIRE 1008 848 928 848
WIRE 736 864 736 768
WIRE 880 864 880 832
WIRE -48 944 -48 848
WIRE -48 944 -80 944
WIRE 0 944 -48 944
WIRE 160 960 64 960
WIRE 320 960 320 848
WIRE 320 960 224 960
WIRE 0 976 -32 976
WIRE -544 1024 -576 1024
WIRE -512 1024 -544 1024
WIRE -416 1024 -432 1024
WIRE -400 1024 -416 1024
WIRE -272 1024 -320 1024
WIRE -272 1040 -272 1024
WIRE -544 1056 -544 1024
WIRE 320 1056 320 960
WIRE 320 1056 16 1056
WIRE -416 1120 -416 1024
WIRE -352 1120 -416 1120
WIRE -224 1136 -288 1136
WIRE -160 1136 -224 1136
WIRE -48 1136 -48 1056
WIRE -48 1136 -80 1136
WIRE 0 1136 -48 1136
WIRE -544 1152 -544 1120
WIRE -544 1152 -576 1152
WIRE -512 1152 -544 1152
WIRE -384 1152 -432 1152
WIRE -352 1152 -384 1152
WIRE 160 1152 64 1152
WIRE 320 1152 320 1056
WIRE 320 1152 224 1152
WIRE -384 1264 -384 1152
WIRE -224 1264 -224 1136
FLAG -672 768 VCC
FLAG -672 848 0
FLAG -576 768 Vref
FLAG -576 848 0
FLAG -784 768 -VCC
FLAG -784 848 0
FLAG -496 768 Iref
FLAG -496 848 0
FLAG 144 608 VCC
FLAG 880 864 0
FLAG 32 928 VCC
FLAG 592 928 0
FLAG -32 976 Vref
FLAG 32 1120 VCC
FLAG 32 1184 -VCC
FLAG 0 1168 Iref
FLAG 592 560 RS2-
FLAG 416 560 RS2+
FLAG -576 1152 RS2-
FLAG -576 1024 RS2+
FLAG -320 1104 -VCC
FLAG -320 1168 VCC
FLAG -272 1040 0
FLAG 32 992 -VCC
FLAG 560 816 Vsense2
FLAG -160 944 Vsense2
FLAG 736 864 0
FLAG -176 784 0
FLAG -176 576 VCC
FLAG -32 528 VCC
FLAG 416 800 0
SYMBOL voltage -672 752 R0
SYMATTR InstName V1
SYMATTR Value 34
SYMBOL voltage -576 752 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 4
SYMBOL voltage -784 752 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value -3
SYMBOL voltage -496 752 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 5
SYMBOL res 576 624 R0
SYMATTR InstName R7
SYMATTR Value 120k
SYMBOL res 576 832 R0
SYMATTR InstName R8
SYMATTR Value 30k
SYMBOL res 560 592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 0.01
SYMBOL OpAmps\\OP177A 32 1088 R0
SYMATTR InstName U1
SYMBOL OpAmps\\OP177A 32 896 R0
WINDOW 0 30 47 Left 2
WINDOW 3 25 78 Left 2
SYMATTR InstName U5
SYMBOL OpAmps\\OP177A -320 1200 M180
SYMATTR InstName U6
SYMBOL res -416 1008 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 100
SYMBOL res -304 1008 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL res -416 1136 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 10k
SYMBOL res -288 1248 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 980k
SYMBOL npn 272 672 R270
SYMATTR InstName Q2
SYMATTR Value 2SCR582D3
SYMBOL cap 720 704 R0
SYMATTR InstName C3
SYMATTR Value 10µ
SYMBOL res 864 624 R0
SYMATTR InstName R20
SYMATTR Value 1
SYMBOL sw 880 736 M0
SYMATTR InstName S2
SYMATTR Value SHORT
SYMBOL Misc\\signal 1008 848 M180
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V10
SYMATTR Value PULSE(0 5 50ms 0 0 100ms)
SYMBOL diode 224 944 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 224 1136 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL cap -560 1056 R0
SYMATTR InstName C4
SYMATTR Value 1n
SYMBOL res -64 1120 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 10k
SYMBOL res -64 928 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value 10k
SYMBOL cap 32 832 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 10p
SYMBOL cap 16 1040 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 4.7p
SYMBOL res -192 560 R0
SYMATTR InstName R21
SYMATTR Value 1k
SYMBOL res -48 528 R0
SYMATTR InstName R22
SYMATTR Value 470
SYMBOL pnp -96 736 M180
SYMATTR InstName Q3
SYMATTR Value 2N2907
SYMBOL zener -160 768 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value DFLZ33
SYMBOL res -208 1248 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Radj
SYMATTR Value 0
SYMBOL res 400 656 R0
SYMATTR InstName R1
SYMATTR Value 470
SYMBOL npn 192 752 R270
SYMATTR InstName Q1
SYMATTR Value 2N2222
TEXT 664 1184 Left 2 !.tran 100ms startup
TEXT 664 1208 Left 2 !.model SHORT SW (Ron=1m Roff=10Meg Vt=0.5 Vh=-0.2)
